/*******************************************************************************
 * Company:
 *
 * Project:        GPS frequency standard
 *
 * Description:    helper functions for the nested vector interrupt controller
 *
 * Filename:       nvic.h
 *
 * Author:         Tobias Pl√ºss <tpluess@ieee.org>
 *
 * Creation-Date:  03.03.2020
 ******************************************************************************/

#ifndef __VIC_H__
#define __VIC_H__

/*******************************************************************************
 * INCLUDE FILES
 ******************************************************************************/

#include <stdint.h>

/*******************************************************************************
 * CONSTANT DEFINITIONS
 ******************************************************************************/

/*******************************************************************************
 * MACRO DEFINITIONS
 ******************************************************************************/

/*******************************************************************************
 * TYPE DEFINITIONS
 ******************************************************************************/

typedef void(*funcptr_t)(void);

/*******************************************************************************
 * FUNCTION PROTOTYPES (PUBLIC)
 ******************************************************************************/

/*============================================================================*/
extern void vic_init(void);
/*------------------------------------------------------------------------------
  Function:
  initialise the vic (namely, configure the vector table)
  in:  none
  out: none
==============================================================================*/

/*============================================================================*/
extern void vic_enableirq(int32_t intnum, funcptr_t func);
/*------------------------------------------------------------------------------
  Function:
  configure a handler for an interrupt and enable it
  in:  intnum -> interrupt number
       func -> interrupt handler
  out: none
==============================================================================*/

/*============================================================================*/
extern void vic_setpriority(int32_t intnum, uint8_t prio);
/*------------------------------------------------------------------------------
  Function:
  set the priority of an interrupt
  in:  intnum -> interrupt number
       prio -> priority
  out: none
==============================================================================*/

/*******************************************************************************
 * END OF CODE
 ******************************************************************************/

#endif
